(this.webpackJsonpdevinhouse_sp05=this.webpackJsonpdevinhouse_sp05||[]).push([[0],{237:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t(1),r=t.n(c),o=t(95),s=t.n(o),i=t(27),l=t.n(i),u=t(57),d=t(2),m=t(3),j=t(4),h=t(5),b=function(e){Object(j.a)(t,e);var a=Object(h.a)(t);function t(){return Object(d.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"paginaPrincipal",children:[Object(n.jsx)("div",{className:"cabecalho",children:Object(n.jsx)("h1",{children:"Escola Amorinha"})}),this.props.children]})}}]),t}(c.Component),p=function(e){var a=e.title,t=e.children;return Object(n.jsxs)("div",{className:"secao",children:[Object(n.jsx)("h2",{children:a}),t]})},x=t(96),O=t(9),f=t(63),v=["M\xe3e","Pai","Tia","Tio","Madrinha","Padrinho","Av\xf3","Av\xf4","Outro"],N=["1A","1B","1C","2A","2B","2C","3A","3B","3C","4A","4B","4C"],A=function(e){return Object(n.jsx)(O.a,{className:e.classname,name:e.name,placeholder:"Ex.: dd/mm/aaaa",type:"text"})},E=function(e){return Object(n.jsx)(O.a,{className:e.className,name:e.name,placeholder:"Ex.: (00) 0000-0000",type:"text"})},g=(t(86),{nome:"",dataNasc:"",nomeResp:"",telResp:"",contEmerg:"",telEmerg:"",restAlim:!1,descRestAlim:"",usoImg:!1,turma:"",podeBuscar:[],obsAdic:""}),y={nomeParente:"",parentesco:v[0]},k=f.a().shape({nome:f.b().required("Preencha o nome do aluno.")}),C=function(e){Object(j.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).adicionarAluno=function(e,a){n.props.adicionar(e),a.resetForm()},n.alterarParente=function(e,a){n.setState(Object(x.a)({},e.name,e.value)),a(e.name,e.value)},n.adicionarParente=function(e,a){a.push(n.state),e.nomeParente=void 0,e.parentesco=void 0,n.setState({nomeParente:"",parentesco:v[0]})},n.state=y,n}return Object(m.a)(t,[{key:"render",value:function(){var e=this;return Object(n.jsx)(O.d,{enableReinitialize:!0,validadeOnMount:!0,validationSchema:k,initialValues:y&&(this.props.alunoEmEdicao||g),onSubmit:function(a,t){return e.adicionarAluno(a,t)},render:function(a){var t=a.values,c=a.errors,r=a.touched,o=a.setFieldValue;return Object(n.jsxs)(O.c,{children:[Object(n.jsxs)("div",{className:"formulario",children:[Object(n.jsxs)("div",{className:"campo-formulario",children:[Object(n.jsx)("label",{children:"Nome do Aluno:"}),Object(n.jsx)(O.a,{className:"input-formulario",name:"nome",type:"text"}),r.nome&&c.nome&&Object(n.jsx)("span",{className:"erro-campo-formulario",children:c.nome})]}),Object(n.jsxs)("div",{className:"campo-formulario",children:[Object(n.jsx)("label",{children:"Data de Nascimento:"}),Object(n.jsx)(A,{className:"input-formulario",name:"dataNasc"}),r.dataNasc&&c.dataNasc&&Object(n.jsx)("span",{className:"erro-campo-formulario",children:c.dataNasc})]}),Object(n.jsxs)("div",{className:"campo-formulario",children:[Object(n.jsx)("label",{children:"Nome do Respons\xe1vel:"}),Object(n.jsx)(O.a,{className:"input-formulario",name:"nomeResp",type:"text"}),r.nomeResp&&c.nomeResp&&Object(n.jsx)("span",{className:"erro-campo-formulario",children:c.nomeResp})]}),Object(n.jsxs)("div",{className:"campo-formulario",children:[Object(n.jsx)("label",{children:"Telefone do Respons\xe1vel:"}),Object(n.jsx)(E,{className:"input-formulario",name:"telResp"}),r.telResp&&c.telResp&&Object(n.jsx)("span",{className:"erro-campo-formulario",children:c.telResp})]}),Object(n.jsxs)("div",{className:"campo-formulario",children:[Object(n.jsx)("label",{children:"Em caso de emerg\xeancia avisar:"}),Object(n.jsx)(O.a,{className:"input-formulario",name:"contEmerg",type:"text"}),r.contEmerg&&c.contEmerg&&Object(n.jsx)("span",{className:"erro-campo-formulario",children:c.contEmerg})]}),Object(n.jsxs)("div",{className:"campo-formulario",children:[Object(n.jsx)("label",{children:"Telefone para emerg\xeancias:"}),Object(n.jsx)(E,{className:"input-formulario",name:"telEmerg"}),r.telEmerg&&c.telEmerg&&Object(n.jsx)("span",{className:"erro-campo-formulario",children:c.telEmerg})]}),Object(n.jsxs)("div",{className:"campo-formulario",children:[Object(n.jsx)("label",{htmlFor:"restAlim",children:"Possui restri\xe7\xf5es alimentares?"}),Object(n.jsx)(O.a,{className:"input-formulario",name:"restAlim",type:"checkbox"}),Object(n.jsx)("br",{}),t.restAlim&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O.a,{className:"input-formulario",name:"descRestAlim",placeholder:"Insira aqui as restri\xe7\xf5es alimentares",as:"textarea"}),r.descRestAlim&&c.descRestAlim&&Object(n.jsx)("span",{className:"erro-campo-formulario",children:c.descRestAlim})]})]}),Object(n.jsxs)("div",{className:"campo-formulario",children:[Object(n.jsx)("label",{htmlFor:"usoImg",children:"Autoriza uso de imagem?"}),Object(n.jsx)(O.a,{className:"input-formulario",name:"usoImg",type:"checkbox"})]}),Object(n.jsxs)("div",{className:"campo-formulario",children:[Object(n.jsx)("label",{children:"Turma:"}),Object(n.jsx)(O.a,{className:"input-formulario",name:"turma",as:"select",children:N.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]}),Object(n.jsxs)("div",{className:"campo-formulario",children:[Object(n.jsx)(O.b,{name:"podeBuscar",render:function(a){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{children:"Pessoas autorizadas a buscar:"}),Object(n.jsx)("ul",{children:t.podeBuscar&&t.podeBuscar.length>0?t.podeBuscar.map((function(e,t){return Object(n.jsxs)("li",{children:[e.nomeParente," (",e.parentesco,") \xa0",Object(n.jsx)("button",{type:"button",onClick:function(){return a.remove(t)},children:"Excluir"})]},t)})):null}),Object(n.jsxs)("div",{className:"adicionar-parente",children:[Object(n.jsx)(O.a,{type:"text",name:"nomeParente",value:e.state.nomeParente,onChange:function(a){return e.alterarParente(a.target,o)}}),Object(n.jsx)(O.a,{as:"select",name:"parentesco",value:e.state.parentesco,onChange:function(a){return e.alterarParente(a.target,o)},children:v.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))}),Object(n.jsx)("button",{type:"button",name:"btnAdicionarParente",onClick:function(){return e.adicionarParente(t,a)},children:"Adicionar"})]})]})}}),(r.nomeParente||r.podeBuscar)&&c.podeBuscar&&Object(n.jsx)("span",{className:"erro-campo-formulario",children:c.podeBuscar})]}),Object(n.jsx)("div",{className:"campo-formulario",children:Object(n.jsx)(O.a,{className:"input-formulario",name:"obsAdic",placeholder:"Observa\xe7\xf5es adicionais...",as:"textarea"})})]}),Object(n.jsxs)("div",{className:"botoes-formulario",children:[Object(n.jsx)("button",{className:"botao-formulario",type:"submit",children:e.props.alunoEmEdicao?"Salvar Altera\xe7\xf5es":"Adicionar Novo Aluno"}),Object(n.jsx)("button",{className:"botao-formulario",type:"reset",onClick:function(){e.props.alunoEmEdicao&&e.props.cancelar()},children:"Cancelar"})]})]})}})}}]),t}(c.Component),P=function(e){Object(j.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(d.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=a.call.apply(a,[this].concat(c))).buscarNome=function(){return document.getElementById("nomeBusca").value},e}return Object(m.a)(t,[{key:"handleEditar",value:function(e){this.props.editar(e)}},{key:"handleExcluir",value:function(e){this.props.excluir(e)}},{key:"render",value:function(){var e=this,a=this.props.alunos;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"busca-aluno",children:[Object(n.jsx)("span",{children:"Buscar Aluno:"}),Object(n.jsx)("input",{id:"nomeBusca",type:"text",placeholder:"Insira o nome do aluno"}),Object(n.jsx)("button",{onClick:function(){""===document.getElementById("nomeBusca").value?alert("Insira o nome do aluno!"):e.props.buscar(e.buscarNome())},children:"Pesquisar"}),Object(n.jsx)("button",{onClick:function(){document.getElementById("nomeBusca").value="",e.props.buscar("")},children:"Mostrar Todos"})]}),(!a||0===a.length)&&Object(n.jsx)("span",{children:"Nenhum aluno encontrado."}),a&&a.length>0&&Object(n.jsx)("div",{className:"lista",children:Object(n.jsxs)("table",{className:"lista-alunos",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Nome"}),Object(n.jsx)("th",{children:"Data de Nascimento"}),Object(n.jsx)("th",{children:"Turma"}),Object(n.jsx)("th",{children:"Contato Para Emerg\xeancias"}),Object(n.jsx)("th",{children:"Telefone Para Emerg\xeancias"}),Object(n.jsx)("th",{className:"acoes",colSpan:"2",children:"A\xe7\xf5es"})]})}),Object(n.jsx)("tbody",{children:a.map((function(a){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:a.nome}),Object(n.jsx)("td",{children:a.dataNasc}),Object(n.jsx)("td",{children:a.turma}),Object(n.jsx)("td",{children:a.contEmerg}),Object(n.jsx)("td",{children:a.telEmerg}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{onClick:function(){return e.handleEditar(a)},children:"Editar"})}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{onClick:function(){return e.handleExcluir(a)},children:"Excluir"})})]},a.id)}))})]})})]})}}]),t}(c.Component),B=t(22),w=t.n(B),R="/devinhouse-api",S="".concat(R,"/alunos"),I=new(function(){function e(){Object(d.a)(this,e)}return Object(m.a)(e,[{key:"buscarAlunos",value:function(){return w.a.get(S).then((function(e){return e.data})).catch((function(e){throw e}))}},{key:"adicionarAluno",value:function(e){return w.a.post(S,e).catch((function(e){throw e}))}},{key:"atualizarAluno",value:function(e){return w.a.put(S,e).catch((function(e){throw e}))}},{key:"buscarAluno",value:function(e){return w.a.get(S).then((function(a){return a.data.filter((function(a){return a.nome.toLowerCase().search(e.toLowerCase())>-1}))})).catch((function(e){throw e}))}},{key:"excluirAluno",value:function(e){return w.a.delete("".concat(S,"/").concat(e)).catch((function(e){throw e}))}}]),e}()),T=function(e){Object(j.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).adicionarAluno=function(e){e.id?I.atualizarAluno(e).then((function(){n.carregarAlunos(),n.setState({alunoEmEdicao:null})})).catch((function(e){throw e})):I.adicionarAluno(e).then((function(){n.carregarAlunos(),n.setState({alunoEmEdicao:null})})).catch((function(e){throw e}))},n.editarAluno=function(e){n.setState({alunoEmEdicao:e})},n.cancelarEdicao=function(){n.setState({alunoEmEdicao:null})},n.excluirAluno=function(e){I.excluirAluno(e.id).then((function(){return n.carregarAlunos()})).catch((function(e){throw e}))},n.state={alunos:[]},n}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.carregarAlunos()}},{key:"carregarAlunos",value:function(){var e=Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.buscarAlunos();case 2:a=e.sent,this.setState({alunos:a});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"buscarAluno",value:function(){var e=Object(u.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.buscarAluno(a).catch((function(e){throw e}));case 2:t=e.sent,this.setState({alunos:t});case 4:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsx)(b,{children:Object(n.jsxs)("div",{className:"conteudo",children:[Object(n.jsx)(p,{title:"Cadastro do Aluno",children:Object(n.jsx)(C,{alunoEmEdicao:this.state.alunoEmEdicao,adicionar:function(a){return e.adicionarAluno(a)},cancelar:function(){return e.cancelarEdicao()}})}),Object(n.jsx)(p,{title:"Lista de Alunos",children:Object(n.jsx)(P,{alunos:this.state.alunos,editar:function(a){return e.editarAluno(a)},excluir:function(a){return e.excluirAluno(a)},buscar:function(a){return e.buscarAluno(a)}})})]})})}}]),t}(c.Component);t(64);s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(T,{})}),document.getElementById("root"))},86:function(e,a,t){}},[[237,1,2]]]);
//# sourceMappingURL=main.11453abe.chunk.js.map